#====================================================#
#                                                    #
#                образец picom.conf                  #
#                                                    #
#   Чтобы узнать больше о настройке picom            #
#   перейдите на https://picom.app/                  #
#                                                    #
#====================================================#

#################################
#           Тени                #
#################################

# Включить тени на стороне клиента для окон. Обратите внимание, что окна рабочего стола
# (окна с '_NET_WM_WINDOW_TYPE_DESKTOP') никогда не получают тень,
# если явно не запрошено с помощью опции wintypes.
#
# Может быть установлено для каждого окна с помощью правил.
#
# По умолчанию: false
shadow = true;

# Радиус размытия для теней в пикселях.
#
# По умолчанию: 12
shadow-radius = 15;

# Непрозрачность теней.
#
# Диапазон: 0.0 - 1.0
# По умолчанию: 0.75
# shadow-opacity = .75

# Смещение тени по горизонтали влево, в пикселях.
#
# По умолчанию: -15
shadow-offset-x = -15 ;

# Смещение тени по вертикали вверх, в пикселях.
#
# По умолчанию: -15
shadow-offset-y = -15;

# Цвет тени в шестнадцатеричном формате. Формат "#RRGGBB", например "#C0FFEE".
#
# По умолчанию: #000000
# shadow-color = "#000000"

# Обрезать тень окна, полностью находящегося на определенном мониторе, до границ этого монитора. В настоящее время реализовано с использованием расширения X RandR.
#
# По умолчанию: false
# crop-shadow-to-monitor = false

# shadow-exclude = [
#   "name = 'Notification'",
#   "class_g = 'Conky'",
#   "class_g ?= 'Notify-osd'",
#   "class_g = 'Cairo-clock'",
#   "_GTK_FRAME_EXTENTS@:c"
# ];

#################################
#           Затухание           #
#################################

# Плавное появление/исчезновение окон при открытии/закрытии и при изменении прозрачности,
# если не используется параметр no-fading-openclose. Может быть установлено для каждого окна с помощью правил.
#
# По умолчанию: false
fading = false;

# Изменение прозрачности между шагами при появлении. (0.01 - 1.0, по умолчанию 0.028)
fade-in-step = 0.08;

# Изменение прозрачности между шагами при исчезновении. (0.01 - 1.0, по умолчанию 0.03)
fade-out-step = 0.08;

# Время между шагами затухания в миллисекундах. (> 0, по умолчанию 10)
# fade-delta = 10


# Не применять затухание при открытии/закрытии окна.
# no-fading-openclose = false

# Не применять затухание для уничтоженных окон ARGB с рамкой WM. Обход ошибок в Openbox, Fluxbox и т.д.
# no-fading-destroyed-argb = false


#################################
#   Прозрачность / Непрозрачность #
#################################

# Непрозрачность заголовков окон и рамок.
#
# Диапазон: 0.1 - 1.0
# По умолчанию: 1.0 (отключено)
frame-opacity = 1;

# Использовать фиксированное значение затемнения для неактивных окон вместо регулировки в зависимости от прозрачности окна.
#
# По умолчанию: false
# inactive-dim-fixed = true

#################################
#           Скругления          #
#################################

# Устанавливает радиус скругления углов окон. При значении > 0 компоновщик будет
# скруглять углы окон. Плохо взаимодействует с
# `transparent-clipping`.
#
# По умолчанию: 0 (отключено)
corner-radius = 12

#################################
#           Размытие            #
#################################

# Параметры для размытия фона, подробнее см. в разделе *BLUR*.
# blur-method = "dual_kawase";

# blur-size = 12
#
# blur-deviation = false
#
blur-strength = 7;

# Размывать фон полупрозрачных / ARGB окон.
# Плохо влияет на производительность, поведение зависит от драйвера.
# Название параметра может измениться без предварительного уведомления.
#
blur-background = false;

# Размывать фон окон, когда рамка окна не является непрозрачной.
# Подразумевает:
#    blur-background
# Плохо влияет на производительность, поведение зависит от драйвера. Название может измениться.
#
# blur-background-frame = false

# Использовать фиксированную силу размытия вместо регулировки в зависимости от прозрачности окна.
# blur-background-fixed = false

# Укажите ядро свертки для размытия в следующем формате:
# пример:
#   blur-kern = "5,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1";
#
# blur-kern = ""
blur-kern = "5x5box";

# Условия исключения для размытия фона.
# blur-background-exclude = []

#################################
#       Общие настройки         #
#################################

# Включить удаленное управление через D-Bus. Подробнее см. в руководстве.
#
# По умолчанию: false
# dbus = true

# Демонизировать процесс. Переход в фоновый режим после инициализации. Вызывает проблемы с некоторыми (плохо написанными) драйверами.
# daemon = false

# Укажите используемый бэкенд: `xrender`, `glx` или `egl`.
#
# По умолчанию: "xrender"
backend = "egl"

# Использовать более высокую точность во время рендеринга и применять дизеринг при отображении
# отрендеренного экрана. Уменьшает артефакты полосатости, но может вызвать снижение
# производительности. Работает только с OpenGL.
dithered-present = false;

# Включить/выключить VSync.
#
# По умолчанию: false
vsync = true;

# Попытаться обнаружить окна со скругленными углами и не считать их
# окнами с измененной формой. Точность, к сожалению, не очень высока.
#
# Не имеет ничего общего с `corner-radius`.
#
# По умолчанию: false
detect-rounded-corners = true;

# Обнаруживать '_NET_WM_WINDOW_OPACITY' на клиентских окнах, полезно для оконных менеджеров,
# которые не передают '_NET_WM_WINDOW_OPACITY' клиентских окон на рамки окон.
#
# По умолчанию: false
detect-client-opacity = true;

# Использовать EWMH '_NET_ACTIVE_WINDOW' для определения текущего активного окна,
# вместо прослушивания событий 'FocusIn'/'FocusOut'. Может быть точнее,
# при условии, что WM поддерживает это.
#
# По умолчанию: false
# use-ewmh-active-win = false

# Перенаправлять все окна, если обнаружено полноэкранное непрозрачное окно,
# чтобы максимизировать производительность для полноэкранных окон. Может вызывать мерцание
# при перенаправлении/отмене перенаправления окон.
#
# По умолчанию: false
unredir-if-possible = true

# Задержка перед отменой перенаправления окна в миллисекундах.
#
# По умолчанию: 0.
# unredir-if-possible-delay = 0

# Использовать 'WM_TRANSIENT_FOR' для группировки окон и считать окна
# в одной группе сфокусированными одновременно.
#
# По умолчанию: false
detect-transient = true;

# Использовать 'WM_CLIENT_LEADER' для группировки окон и считать окна в одной
# группе сфокусированными одновременно. Обычно это означает, что окна одного приложения
# будут считаться сфокусированными или несфокусированными одновременно.
# 'WM_TRANSIENT_FOR' имеет более высокий приоритет, если также включен detect-transient.
#
# По умолчанию: false
# detect-client-leader = false

# Использовать информацию о повреждениях для рендеринга. Это приводит к перерисовке только той части
# экрана, которая действительно изменилась, вместо перерисовки всего экрана
# каждый раз. Должно улучшить производительность.
#
# По умолчанию: false
use-damage = false;

# Использовать X Sync fence для ожидания завершения рендеринга других окон,
# прежде чем использовать их содержимое для отрисовки текущего экрана.
#
# Требуется для драйверов с явной синхронизацией, таких как nvidia.
#
# По умолчанию: false
xrender-sync-fence = true

# Бэкенд GLX: Использовать указанный фрагментный шейдер GLSL для рендеринга содержимого окон.
# Подробное объяснение интерфейса см. в руководстве.
#
# Может быть установлено для каждого окна с помощью правил.
#
# window-shader-fg = "default"

# Принудительно рисовать все окна со смешиванием. Полезно, если у вас
# есть `window-shader-fg`, который может превращать непрозрачные пиксели в прозрачные.
#
# По умолчанию: false
# force-win-blend = false

# Не использовать EWMH для обнаружения полноэкранных окон.
# Возвращается к проверке, является ли окно полноэкранным, только на основе его размера и координат.
#
# По умолчанию: false
# no-ewmh-fullscreen = false

# Затемнение ярких окон, чтобы их яркость не превышала заданное значение.
# Яркость окна оценивается путем усреднения всех пикселей в окне,
# поэтому это может снизить производительность.
# Установка значения 1.0 отключает это поведение. Требует отключения --use-damage.
#
# По умолчанию: 1.0 (отключено)
# max-brightness = 1.0

# Заставить прозрачные окна обрезать другие окна, как это делают непрозрачные окна,
# вместо смешивания поверх них. Например, размещение прозрачного окна поверх
# другого окна вырежет "дыру" в этом окне и покажет фон рабочего стола
# под ним.
#
# По умолчанию: false
# transparent-clipping = false

# Установить уровень журналирования. Возможные значения:
#  "trace", "debug", "info", "warn", "error"
# в порядке возрастания важности. Регистр не учитывается.
# При использовании уровня журналирования "TRACE" лучше вести журнал в файл
# с помощью *--log-file*, так как он может генерировать огромный поток логов.
#
# По умолчанию: "warn"
# log-level = "warn";

# Установить файл журнала.
# Если *--log-file* никогда не указан, логи будут записываться в stderr.
# В противном случае логи будут записываться в указанный файл, хотя некоторые ранние
# логи все еще могут быть записаны в stderr.
# При установке этой опции в конфигурационном файле рекомендуется использовать абсолютный путь.
#
# log-file = "/path/to/your/log/file"

# Записать идентификатор процесса в файл.
# write-pid-path = "/path/to/your/log/file"

# Правила для параметров отдельных окон.
#
# См. раздел WINDOW RULES в руководстве, чтобы понять, как они работают.
rules: ({
  match = "window_type = 'tooltip' ||"
          "class_g = 'Thunar'";
  fade = false;
  shadow = true;
  opacity = 0.95;
  full-shadow = false;
}, {
  match = "window_type = 'dock'    || "
          "window_type = 'poput'    || "
          "window_type = 'desktop' || "
          "_GTK_FRAME_EXTENTS@";
  blur-background = false;
}, {
  match = "window_type != 'dock'";
  # shader = "my_shader.frag";
}, {
  match = "window_type = 'dock' || "
          "window_type = 'desktop'";
  corner-radius = 0;
}, {
  match = "name = 'Notification'   || "
          "class_g = 'Conky'       || "
          "class_g ?= 'Notify-osd' || "
          "class_g = 'Cairo-clock' || "
          "_GTK_FRAME_EXTENTS@";
  shadow = false;
},)

# Директива `@include` может использоваться для включения дополнительных файлов конфигурации.
# Относительные пути ищутся либо в родительской папке этого конфигурационного файла
# (когда конфигурация загружается через символическую ссылку, ссылка будет сначала разрешена).
# Или в `$XDG_CONFIG_HOME/picom/include`.
#
# @include "extra.conf"


xrender-sync-fence = true;



# animations = (
#   {
#     triggers = [ "open" ];
#     preset = "appear";
#   },
#   {
#     triggers = [ "close" ];
#     preset = "disappear";
#   },
#   {
#     triggers = [ "geometry" ];
#     offset-x = {
#       curve = "cubic-bezier(0.17, 0.67, 0.68, 1.03)";
#       end = 0;
#       duration = "duration";
#       start = "- offset";
#     };
#     shadow-offset-x = "offset-x";

#     # То же, что и `transition-offset`
#     offset = 100;
#     # Длительность анимации в секундах
#     duration = 0.25;
#   }
# )